{"version":3,"sources":["webpack:///./src/views/RecipeDetailsVue.vue?cdb3","webpack:///src/views/RecipeDetailsVue.vue","webpack:///./src/views/RecipeDetailsVue.vue?a20a","webpack:///./src/views/RecipeDetailsVue.vue?796f","webpack:///./src/views/RecipeDetailsVue.vue?1cde"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","recipe","name","_v","model","value","callback","$$v","servingSize","expression","inCart","on","remove","addToCart","_l","account","key","_s","ingredient","idx","quantity","unit","chefsNotes","imageSrc","widths","heights","scopedSlots","_u","fn","proxy","staticRenderFns","components","Title","data","computed","recipeById","$route","params","id","ingredients","images","recipeInCart","methods","getImageSize","img","onload","src","addToShoppingCart","removeFromCart","created","watch","deep","immediate","handler","forEach","component","VBtn","VCol","VContainer","VIcon","VImg","VProgressCircular","VRow","VTextField"],"mappings":"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","file":"js/recipe-details.eb41b37a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"top-bar d-flex justify-space-between align-center\"},[_c('Title',{attrs:{\"title\":_vm.recipe.name}}),_c('v-col',{staticClass:\"col-12 col-md-auto\"},[_vm._v(\" Add to shopping cart: \"),_c('div',{staticClass:\"d-flex flex-row align-center justify-space-between\"},[_c('v-text-field',{staticClass:\"serving-size-input mr-1\",attrs:{\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"type\":\"number\",\"append-icon\":\"mdi-account\"},model:{value:(_vm.servingSize),callback:function ($$v) {_vm.servingSize=$$v},expression:\"servingSize\"}}),(!_vm.inCart)?_c('v-btn',{staticClass:\"ml-3\",attrs:{\"icon\":\"\",\"fab\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.addToCart}},[_c('v-icon',[_vm._v(\"mdi-cart-plus\")])],1):_c('v-btn',{staticClass:\"ml-3\",attrs:{\"fab\":\"\",\"dark\":\"\",\"color\":\"error\"},on:{\"click\":_vm.remove}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-cart-remove\")])],1)],1)])],1),_c('v-row',[_c('v-col',{staticClass:\"col-12 col-md-3 left-bar d-flex\"},[_c('v-container',[_c('v-row',[_c('h3',[_vm._v(\"Ingredients for\")])]),_c('v-row',{staticClass:\"mb-3\"},[(+_vm.recipe.servingSize < 7)?_c('b',_vm._l((+_vm.recipe.servingSize),function(account){return _c('v-icon',{key:account},[_vm._v(\"mdi-account\")])}),1):_c('b',{staticClass:\"ml-2\"},[_vm._v(\" \"+_vm._s(+_vm.recipe.servingSize)+\" \"),_c('v-icon',[_vm._v(\"mdi-account\")])],1)]),_c('v-row',[_c('ul',_vm._l((_vm.ingredients),function(ingredient,idx){return _c('li',{key:idx},[_vm._v(\" \"+_vm._s(ingredient.quantity)+\" \"+_vm._s(ingredient.unit)+\" \"+_vm._s(ingredient.name)+\" \")])}),0)])],1)],1),_c('v-col',{staticClass:\"col-12 col-md-9\"},[_c('v-container',[_c('v-row',[_c('v-col',[_c('p',{staticClass:\"text-paragraph\"},[_vm._v(_vm._s(_vm.recipe.chefsNotes))])])],1),_vm._l((_vm.images),function(imageSrc){return _c('v-row',{key:imageSrc,staticClass:\"d-flex child-flex justify-center\"},[_c('v-img',{staticClass:\"grey lighten-2 ma-2\",attrs:{\"contain\":\"\",\"src\":imageSrc,\"lazy-src\":\"https://picsum.photos/10/10\",\"max-width\":_vm.widths[imageSrc] || 600,\"max-height\":_vm.heights[imageSrc] || 600},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}],null,true)})],1)})],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row class=\"top-bar d-flex justify-space-between align-center\">\n      <Title :title=\"recipe.name\"/>\n      <v-col class=\"col-12 col-md-auto\">\n        Add to shopping cart:\n        <div class=\"d-flex flex-row align-center justify-space-between\">\n          <v-text-field\n            outlined\n            dense\n            hide-details\n            class=\"serving-size-input mr-1\"\n            type=\"number\"\n            v-model=\"servingSize\"\n            append-icon=\"mdi-account\"\n          />\n          <v-btn\n            icon\n            fab\n            outlined\n            v-if=\"!inCart\"\n            class=\"ml-3\"\n            color=\"primary\"\n            @click=\"addToCart\"\n          >\n            <v-icon>mdi-cart-plus</v-icon>\n          </v-btn>\n          <v-btn\n            fab\n            dark\n            v-else\n            class=\"ml-3\"\n            color=\"error\"\n            @click=\"remove\"\n          >\n            <v-icon dark>mdi-cart-remove</v-icon>\n          </v-btn>\n        </div>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col class=\"col-12 col-md-3 left-bar d-flex\">\n        <v-container>\n          <v-row>\n            <h3>Ingredients for</h3>\n          </v-row>\n          <v-row class=\"mb-3\">\n            <b v-if=\"+recipe.servingSize < 7\">\n              <v-icon\n                v-for=\"account in +recipe.servingSize\"\n                :key=\"account\"\n              >mdi-account</v-icon>\n            </b>\n            <b class=\"ml-2\" v-else>\n              {{+recipe.servingSize}}\n              <v-icon>mdi-account</v-icon>\n            </b>\n          </v-row>\n          <v-row>\n            <ul>\n              <li v-for=\"(ingredient, idx) in ingredients\" :key=\"idx\">\n                {{ ingredient.quantity }} {{ ingredient.unit }} {{ ingredient.name }}\n              </li>\n            </ul>\n          </v-row>\n        </v-container>\n      </v-col>\n      <v-col class=\"col-12 col-md-9\">\n        <v-container>\n          <v-row>\n            <v-col>\n              <p class=\"text-paragraph\">{{recipe.chefsNotes}}</p>\n            </v-col>\n          </v-row>\n          <v-row\n            v-for=\"imageSrc in images\"\n            class=\"d-flex child-flex justify-center\"\n            :key=\"imageSrc\"\n          >\n            <v-img\n              contain\n              :src=\"imageSrc\"\n              lazy-src=\"https://picsum.photos/10/10\"\n              :max-width=\"widths[imageSrc] || 600\"\n              :max-height=\"heights[imageSrc] || 600\"\n              class=\"grey lighten-2 ma-2\"\n            >\n              <template v-slot:placeholder>\n                <v-row\n                  class=\"fill-height ma-0\"\n                  align=\"center\"\n                  justify=\"center\"\n                >\n                  <v-progress-circular\n                    indeterminate\n                    color=\"grey lighten-5\"\n                  ></v-progress-circular>\n                </v-row>\n              </template>\n            </v-img>\n          </v-row>\n        </v-container>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport Title from '@/components/Title'\nimport { mapGetters, mapActions } from 'vuex'\n\nexport default {\n  name: 'RecipeDetailsVue',\n  components: {\n    Title\n  },\n  data () {\n    return {\n      widths: {},\n      heights: {},\n      servingSize: null\n    }\n  },\n  computed: {\n    ...mapGetters(['recipeById', 'recipeInCart']),\n    recipe () {\n      return this.recipeById(this.$route.params.id)\n    },\n    ingredients () {\n      return this.recipe?.ingredientsV2 || []\n    },\n    images () {\n      return this.recipe?.recipeImages || []\n    },\n    inCart () {\n      return this.recipeInCart({ recipeId: this.recipe.id })\n    }\n  },\n  methods: {\n    ...mapActions(['addToShoppingCart', 'removeFromCart']),\n    getImageSize (imageSrc) {\n      const img = new Image()\n      img.onload = () => {\n        this.$set(this.widths, imageSrc, Math.min(img.width, 600))\n        this.$set(this.heights, imageSrc, Math.min(img.height, 600))\n      }\n      img.src = imageSrc\n    },\n    addToCart () {\n      this.addToShoppingCart({ recipe: this.recipe, servingSize: +this.servingSize })\n    },\n    remove () {\n      this.removeFromCart({ recipeId: this.recipe.id })\n    }\n  },\n  created () {\n    if (this.inCart) {\n      this.servingSize = this.inCart.servingSize\n    }\n  },\n  watch: {\n    images: {\n      deep: true,\n      immediate: true,\n      handler (images) {\n        images.forEach(imageSrc => {\n          if (this.widths[imageSrc]) {\n            return\n          }\n          this.getImageSize(imageSrc)\n        })\n      }\n    },\n    recipe: {\n      handler (recipe) {\n        if (this.servingSize !== null || !this.recipe.servingSize) {\n          return\n        }\n        this.servingSize = +recipe.servingSize\n      },\n      immediate: true\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../styles/variables.scss';\n  @import '~vuetify/src/styles/settings/_variables';\n  .top-bar {\n    border-bottom: $border-color solid 1px;\n  }\n  .serving-size-input {\n    max-width: 6em;\n  }\n  .left-bar {\n    border-bottom: $border-color solid 1px;\n    @media #{map-get($display-breakpoints, 'md-and-up')} {\n      border-right: $border-color solid 1px;\n      border-bottom: none;\n    }\n  }\n  .text-paragraph {\n    white-space: pre-line;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipeDetailsVue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipeDetailsVue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecipeDetailsVue.vue?vue&type=template&id=2dd3d1d4&scoped=true&\"\nimport script from \"./RecipeDetailsVue.vue?vue&type=script&lang=js&\"\nexport * from \"./RecipeDetailsVue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecipeDetailsVue.vue?vue&type=style&index=0&id=2dd3d1d4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dd3d1d4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VIcon,VImg,VProgressCircular,VRow,VTextField})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipeDetailsVue.vue?vue&type=style&index=0&id=2dd3d1d4&scoped=true&lang=scss&\""],"sourceRoot":""}